<html>
    <head></head>
<body>
<button id="rock">Rock</button>
<button id="paper">Paper</button>
<button id="scissors">Scissors</button>
<div class ="outcome"></div>
<script>
    let compScore = 0;
    let playerScore = 0;
// Game Choices
    var choiceArray = [
            "Rock",
            "Paper",
            "Scissors",
        ] 
// Function to get computer to spit out choice
   function getComputerChoice() {
        var randomChoice = Math.floor(Math.random()*choiceArray.length);
        return choiceArray[randomChoice]
   }
   let computerSelection = getComputerChoice()


   function computerWin() {
        const h2 = document.createElement('h2')
        h2.innerText = "YOU LOSE"
        outcomeDiv.appendChild(h2)
   }

   function playerWin() {
        const h2 = document.createElement('h2')
        h2.innerText = "YOU WIN"
        outcomeDiv.appendChild(h2)
   }

   function gameEnd() {
        document.querySelector('#rock').disabled = true;
        document.querySelector('#paper').disabled = true;
        document.querySelector('#scissors').disabled = true;
   }

// test if it works by spitting out to console
 // console.log(computerSelection)

const outcomeDiv = document.querySelector('.outcome');

function playRound(playerSelection, computerSelection) {
    if (playerSelection == computerSelection) {
        const p = document.createElement('p')
        p.innerText = "It's a tie!"
        outcomeDiv.appendChild(p)
    }
    else if ((playerSelection == "Rock") && (computerSelection == "Scissors")) {
        playerScore++ 
        const p = document.createElement('p')
        p.innerText = "You win! Rock beats scissors!"
        outcomeDiv.appendChild(p)
        if (playerScore == 5) {
            playerWin()
            gameEnd()
        }
    }
    else if ((playerSelection == "Scissors") && (computerSelection == "Rock")) {
        compScore++
        const p = document.createElement('p')
        p.innerText = "You lose! Rock beats scissors!"
        outcomeDiv.appendChild(p)
        if (compScore == 5) {
            computerWin()
            gameEnd()
        }
    }
    else if ((playerSelection == "Rock") && (computerSelection == "Paper")) {
        compScore++
        const p = document.createElement('p')
        p.innerText = "You lose! Paper beats rock!"
        outcomeDiv.appendChild(p)
        if (compScore == 5) {
            computerWin()
            gameEnd()
        }
        
    }
    else if ((playerSelection == "Scissors") && (computerSelection == "Paper")) {
        playerScore++
        const p = document.createElement('p')
        p.innerText = "You win! Scissors beats paper!"
        outcomeDiv.appendChild(p)
        if (playerScore == 5) {
            playerWin()
            gameEnd()
        }
    }
    else if ((playerSelection == "Paper") && (computerSelection == "Rock")) {
        playerScore++
        const p = document.createElement('p')
        p.innerText = "You win! Paper beats rock!"
        outcomeDiv.appendChild(p)
        if (playerScore == 5) {
            playerWin()
            gameEnd()
        }
    }
    else if ((playerSelection == "Paper") && (computerSelection == "Scissors")) {
        compScore++
        const p = document.createElement('p')
        p.innerText = "You lose! Scissors beats paper!"
        outcomeDiv.appendChild(p)
        if (compScore == 5) {
            computerWin()
            gameEnd()
        }
    }
}


const rock = document.querySelector('#rock');
rock.addEventListener('click', () => {
    const computerSelection = getComputerChoice();
    const playerSelection = "Rock";
    playRound(playerSelection, computerSelection);
});



const paper = document.querySelector('#paper');
paper.addEventListener('click', () => {
    const computerSelection = getComputerChoice();
    const playerSelection = "Paper";
    playRound(playerSelection, computerSelection);
});



const scissors = document.querySelector('#scissors');
scissors.addEventListener('click', () => {
    const computerSelection = getComputerChoice();
    const playerSelection = "Scissors";
    playRound(playerSelection, computerSelection);
});

if (compScore == 5 || playerScore == 5) {
    document.querySelector('#rock').disabled = true;
    document.querySelector('#paper').disabled = true;
    document.querySelector('#scissors').disabled = true;
}
else {
    document.querySelector('#rock').disabled = false;
    document.querySelector('#paper').disabled = false;
    document.querySelector('#scissors').disabled = false;
}

//the problem is that the below if/else statement is running at the beginning... I need it to check after each button click
//if (compScore === 5 && playerScore !=5) {
   // console.log("You lose")
    //const h2 = document.createElement('h2')
    //h2.innerText = "YOU LOSE"
//}
//else if (playerScore === 5) {
   // console.log("you win")
   // const h2 = document.createElement('h2')
   // h2.innerText = "YOU WIN"
//}
//else {
   // console.log("what the fuck")
//}


//function game() {
    //for (let i = 0; i < 5; i++) {
        //var playerSelection =( prompt("Enter a choice"));
        //const computerSelection = getComputerChoice();
        //console.log(playRound(playerSelection, computerSelection));
    //}
//}

//console.log(game())

    
</script>

</body>
</html>
